<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Roast Index</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM Plex Mono">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico">
    <script src="src/script.js" type="text/javascript"></script>

    <style>
        h1 {
            font-family: 'Pacifico';
            font-size: 80px;
        }

        body {
            display: block;
            justify-content: center;
            height: 100vh; /* Ensure the container takes up the full viewport height */
            width: 100vw;
            margin: 0;
            font-family: 'IBM Plex Mono';
        }

        #part01 {
            font-family: 'IBM Plex Mono';
            background-color: white;
            font-weight: 450;
            margin-top: 80px;
            margin-left: 27.5vw;
            max-width: 45vw;
            padding: 10px;
            line-height: 3;
        }

        button {
            align-items: center;
            appearance: none;
            background-color: #FCFCFD;
            border-radius: 4px;
            border-width: 0;
            box-shadow: rgba(45, 35, 66, 0.4) 0 2px 4px,rgba(45, 35, 66, 0.3) 0 7px 13px -3px,#D6D6E7 0 -3px 0 inset;
            box-sizing: border-box;
            color: #36395A;
            cursor: pointer;
            display: inline-flex;
            font-family: "IBM Plex Mono",monospace;
            height: 48px;
            justify-content: center;
            line-height: 1;
            list-style: none;
            overflow: hidden;
            padding-left: 16px;
            padding-right: 16px;
            position: relative;
            text-align: left;
            text-decoration: none;
            transition: box-shadow .15s,transform .15s;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            white-space: nowrap;
            will-change: box-shadow,transform;
            font-weight: bold;
            margin-left: auto;
        }

        button:focus {
            box-shadow: #D6D6E7 0 0 0 1.5px inset, rgba(45, 35, 66, 0.4) 0 2px 4px, rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #D6D6E7 0 -3px 0 inset;
        }

        button:hover {
            box-shadow: rgba(45, 35, 66, 0.4) 0 4px 8px, rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #D6D6E7 0 -3px 0 inset;
            transform: translateY(-2px);
        }

        button:active {
            box-shadow: #D6D6E7 0 3px 7px inset;
            transform: translateY(2px);
        }
    </style>
</head>
<body>
    <center><h1>Judge Your Music...</h1></center>

    <div id="part01">
        <p id="typing-container"></p>
        <p id="temp1"></p>
        <button id="loadScriptButton" onclick="onLoginClick()" style="display: none;">Spotify Login</button>
    </div>

    <script>

        localStorage.clear();

        const textToType = [
            "Initializing neural net...",
            "Training on 18,832 indicators of objectively good music.",
            "Finalizing...",
        ];

        const typingContainer = document.getElementById("typing-container");

        function typeLine(index, text) {
            if (index < text.length) {
                typingContainer.innerHTML += text.charAt(index);
                index++;
                setTimeout(() => typeLine(index, text), 50); // Adjust typing speed (in milliseconds)
            } else {
                typingContainer.innerHTML += '<br>';
                if (text === "Finalizing...") {
                    setTimeout(animateDots, 1000); // Delay before animating dots
                } else {
                    setTimeout(nextLine, 1000); // Delay between lines (1 second)
                }
            }
        }

        function animateDots() {
            const dots = ['.', '..', '...'];
            let dotIndex = 0;

            function typeDot() {
                typingContainer.innerHTML = "Initializing neural net... <br>Training on 18,832 indicators of objectively good music. <br> Finalizing" + dots[dotIndex];
                dotIndex = (dotIndex + 1) % dots.length;
                setTimeout(typeDot, 500); // Adjust typing speed for dots (in milliseconds)
            }

            typeDot();

            setTimeout(nextLine, 1500); // Delay after animating dots
        }

        let currentIndex = 0;

        function nextLine() {
            if (currentIndex < textToType.length) {
                typingContainer.innerHTML += '';
                typeLine(0, textToType[currentIndex]);
                currentIndex++;
            }
        }

        

        // Define the time delay in milliseconds (e.g., 12000 milliseconds = 5 seconds)
        const delayInMilliseconds = 12000;

        // Set a timeout to redirect after the specified delay
        setTimeout(function () {
            // Replace 'newPageURL' with the URL of the webpage you want to redirect to
            document.getElementById("loadScriptButton").style.setProperty('display', "block");
        }, delayInMilliseconds);

        // Start typing when the page loads
        window.onload = nextLine;
        
    </script>
</body>
</html>
